
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dialog-polyfill/0.4.3/dialog-polyfill.min.css">
<link href="https://webchat.botframework.com/css/botchat.css" rel="stylesheet" />
<style>
    #BotChatElement {
        height: 90vh;
    }


    .mdl-dialog {
        width: 60vw;
    }


    .close {
        z-index: 2;
        position: absolute;
        right: -10px;
        top: -10px;
    }


    #show-dialog {
        position: absolute;
        bottom: 5px;
        right: 5px;
    }
</style>
<button id="show-dialog" type="button" class="mdl-button  mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
    <i class="material-icons">chat</i>&nbsp;Dites-nous</button>
<dialog class="mdl-dialog">
    <!-- Colored FAB button with ripple -->
    <button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored close">
  <i class="material-icons">close</i>
</button>
    <div id="BotChatElement"></div>
</dialog>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dialog-polyfill/0.4.3/dialog-polyfill.min.js"></script>
<!-- script src="https://webchat.botframework.com/scripts/botchat.js"></script -->
<script src="/botchat.js"></script>
<script>
    var model = {
        "userId": Math.floor(Math.random() * 100000) + "@" + window.location.host,
        "userName": "You",
        "botId": "salesucation",
        "botIconUrl": "//bot-framework.azureedge.net/bot-icons-v1/bot-framework-default-4.png",
        "botName": "Salesucation",
        "secret": "goddCYki1ps.cwA.K0I.En1clNm6KhHPfN9wzEOnU04pZRUpIgRNpx0EK4i2OEA",
        "iconUrl": "//bot-framework.azureedge.net/bot-icons-v1/bot-framework-default-4.png",
        "directLineUrl": "https://directline.botframework.com/v3/directline"
    };

</script>
<script>
    BotChat.App({
        directLine: {
            secret: model.secret,
            token: model.token,
            domain: model.directLineUrl,
            webSocket: false
        },
        user: { id: model.userId, name: model.userName },
        bot: {
            id: model.botId, name: model.botName, locale: "fr",
            strings: {
                title: "Dites-nous",
                send: "Envoyer",
                unknownFile: "[Fichier de type '%1']",
                unknownCard: "[Carte inconnue '%1']",
                receiptTax: "Impôt",
                receiptTotal: "Total",
                messageRetry: "recommencez",
                messageFailed: "Impossible d&#39;envoyer",
                messageSending: "envoi",
                timeSent: " à %1",
                consolePlaceholder: "Saisissez votre message ..."
            }
        }
    }, document.getElementById("BotChatElement"));
    var dialog = document.querySelector('dialog');
    var showDialogButton = document.querySelector('#show-dialog');
    if (!dialog.showModal) {
        dialogPolyfill.registerDialog(dialog);
    }
    showDialogButton.addEventListener('click', function () {
        dialog.showModal();
        document.querySelector('.wc-textbox input').focus();
    });
    dialog.querySelector('.close').addEventListener('click', function () {
        dialog.close();
    });

</script>